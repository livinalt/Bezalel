{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/bridge/Bezalel/bezalel/src/components/Canvas.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useImperativeHandle, forwardRef } from \"react\";\r\nimport {\r\n    Canvas as FabricJSCanvas,\r\n    PencilBrush,\r\n    Pattern,\r\n    Path,\r\n} from \"fabric\";\r\n\r\ninterface CanvasProps {\r\n    isDrawingMode: boolean;\r\n    setCanvasRef?: (canvas: FabricJSCanvas | null) => void;\r\n    onPathCreated?: (path: Path) => void;\r\n    width?: number;\r\n    height?: number;\r\n    brushColor?: string;\r\n    brushWidth?: number;\r\n    showGrid?: boolean;\r\n}\r\n\r\n// ForwardRef so parent (Board) can call zoomIn/zoomOut\r\nconst Canvas = forwardRef(function Canvas(\r\n    {\r\n        isDrawingMode,\r\n        setCanvasRef,\r\n        onPathCreated,\r\n        width = 5000,\r\n        height = 3500,\r\n        brushColor = \"#000000\",\r\n        brushWidth = 3,\r\n        showGrid = true,\r\n    }: CanvasProps,\r\n    ref\r\n) {\r\n    const canvasElRef = useRef<HTMLCanvasElement | null>(null);\r\n    const fabricRef = useRef<FabricJSCanvas | null>(null);\r\n    const patternCacheRef = useRef<HTMLCanvasElement | null>(null);\r\n\r\n    // --- helper: apply zoom ---\r\n    const setZoom = (zoom: number, point?: { x: number; y: number }) => {\r\n        if (!fabricRef.current) return;\r\n        const canvas = fabricRef.current;\r\n        if (!point) {\r\n            point = { x: canvas.getWidth()! / 2, y: canvas.getHeight()! / 2 };\r\n        }\r\n        canvas.zoomToPoint(point, zoom);\r\n    };\r\n\r\n    // Expose zoom methods to parent\r\n    useImperativeHandle(ref, () => ({\r\n        zoomIn: () => {\r\n            if (fabricRef.current) {\r\n                const zoom = fabricRef.current.getZoom() * 1.1;\r\n                setZoom(Math.min(zoom, 4));\r\n            }\r\n        },\r\n        zoomOut: () => {\r\n            if (fabricRef.current) {\r\n                const zoom = fabricRef.current.getZoom() / 1.1;\r\n                setZoom(Math.max(zoom, 0.2));\r\n            }\r\n        },\r\n        resetZoom: () => {\r\n            if (fabricRef.current) {\r\n                setZoom(1);\r\n            }\r\n        },\r\n    }));\r\n\r\n    // Initialize Fabric canvas (once)\r\n    useEffect(() => {\r\n        if (!canvasElRef.current) return;\r\n\r\n        const fcanvas = new FabricJSCanvas(canvasElRef.current, {\r\n            isDrawingMode,\r\n            width,\r\n            height,\r\n            selection: false,\r\n            backgroundColor: \"#ffffff\",\r\n        });\r\n\r\n        fabricRef.current = fcanvas;\r\n\r\n        fcanvas.freeDrawingBrush = new PencilBrush(fcanvas);\r\n        fcanvas.freeDrawingBrush.width = brushWidth;\r\n        fcanvas.freeDrawingBrush.color = brushColor;\r\n\r\n        if (onPathCreated) {\r\n            fcanvas.on(\"path:created\", (opts: any) => {\r\n                const path = opts.path as Path | undefined;\r\n                if (path) onPathCreated(path);\r\n            });\r\n        }\r\n\r\n        // Make subtle dot grid\r\n        const makeGridPattern = () => {\r\n            const gridSize = 40;\r\n            const gridCanvas = document.createElement(\"canvas\");\r\n            gridCanvas.width = gridSize;\r\n            gridCanvas.height = gridSize;\r\n            const ctx = gridCanvas.getContext(\"2d\");\r\n            if (ctx) {\r\n                ctx.clearRect(0, 0, gridSize, gridSize);\r\n                ctx.fillStyle = \"rgba(0,0,0,0.06)\";\r\n                ctx.beginPath();\r\n                ctx.arc(gridSize / 2, gridSize / 2, 0.8, 0, Math.PI * 2);\r\n                ctx.fill();\r\n            }\r\n            return gridCanvas;\r\n        };\r\n        patternCacheRef.current = makeGridPattern();\r\n\r\n        if (showGrid && patternCacheRef.current) {\r\n            fcanvas.set(\"backgroundColor\", new Pattern({ source: patternCacheRef.current, repeat: \"repeat\" }));\r\n        }\r\n\r\n        if (setCanvasRef) setCanvasRef(fcanvas);\r\n\r\n        // --- Zoom with Ctrl + Scroll ---\r\n        const wheelHandler = (opt: WheelEvent) => {\r\n            if (!fabricRef.current) return;\r\n            if (!(opt.ctrlKey || opt.metaKey)) return; // only when holding ctrl/cmd\r\n            opt.preventDefault();\r\n\r\n            let zoom = fabricRef.current.getZoom();\r\n            zoom *= 0.999 ** opt.deltaY; // smooth zoom\r\n            zoom = Math.min(Math.max(zoom, 0.2), 4); // clamp\r\n            const point = { x: opt.offsetX, y: opt.offsetY };\r\n            setZoom(zoom, point);\r\n        };\r\n\r\n        canvasElRef.current?.addEventListener(\"wheel\", wheelHandler, { passive: false });\r\n\r\n        return () => {\r\n            fcanvas.dispose();\r\n            if (setCanvasRef) setCanvasRef(null);\r\n            canvasElRef.current?.removeEventListener(\"wheel\", wheelHandler);\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    // update brush & mode dynamically\r\n    useEffect(() => {\r\n        if (fabricRef.current) fabricRef.current.isDrawingMode = isDrawingMode;\r\n    }, [isDrawingMode]);\r\n    useEffect(() => {\r\n        if (fabricRef.current?.freeDrawingBrush) fabricRef.current.freeDrawingBrush.color = brushColor;\r\n    }, [brushColor]);\r\n    useEffect(() => {\r\n        if (fabricRef.current?.freeDrawingBrush) fabricRef.current.freeDrawingBrush.width = brushWidth ?? 3;\r\n    }, [brushWidth]);\r\n    useEffect(() => {\r\n        if (!fabricRef.current) return;\r\n        if (showGrid && patternCacheRef.current) {\r\n            fabricRef.current.set(\"backgroundColor\", new Pattern({ source: patternCacheRef.current, repeat: \"repeat\" }));\r\n        } else {\r\n            fabricRef.current.set(\"backgroundColor\", \"#ffffff\");\r\n        }\r\n        fabricRef.current.renderAll();\r\n    }, [showGrid]);\r\n\r\n    return (\r\n        <div className=\"w-full h-full flex justify-center items-center overflow-auto p-6\">\r\n            <canvas\r\n                ref={canvasElRef}\r\n                width={width}\r\n                height={height}\r\n                className=\"block rounded-xl border border-gray-200 shadow-inner\"\r\n                aria-label=\"drawing-canvas\"\r\n            />\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Canvas;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///C:/bridge/Bezalel/bezalel/src/app/board/%5BroomId%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { fabric } from \"fabric\";\r\nimport io from \"socket.io-client\";\r\nimport Canvas from \"@/components/Canvas\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n    Undo2,\r\n    Redo2,\r\n    Palette,\r\n    Grid,\r\n    ZoomIn,\r\n    ZoomOut,\r\n    Link as LinkIcon,\r\n} from \"lucide-react\";\r\n\r\ninterface FabricObject extends fabric.Object {\r\n    id?: string;\r\n}\r\n\r\nexport default function Board({ params }: { params: { roomId: string } }) {\r\n    const { roomId } = params;\r\n\r\n    const canvasRef = useRef<fabric.Canvas | null>(null);\r\n    const videoRef = useRef<HTMLVideoElement | null>(null);\r\n\r\n    const [isDrawingMode, setIsDrawingMode] = useState(true);\r\n    const [brushColor, setBrushColor] = useState(\"#000000\");\r\n    const [brushWidth, setBrushWidth] = useState(3);\r\n    const [viewerCount, setViewerCount] = useState(0);\r\n    const [aiPrompt, setAiPrompt] = useState(\"\");\r\n    const [isStreaming, setIsStreaming] = useState(false);\r\n    const [showGrid, setShowGrid] = useState(false);\r\n\r\n    const undoStack = useRef<FabricObject[]>([]);\r\n    const redoStack = useRef<FabricObject[]>([]);\r\n\r\n    // ✅ Safe check for window\r\n    const viewUrl =\r\n        typeof window !== \"undefined\"\r\n            ? `${window.location.origin}/board/${roomId}/view`\r\n            : \"\";\r\n\r\n    // --- Socket.io setup ---\r\n    useEffect(() => {\r\n        const socket = io();\r\n\r\n        socket.emit(\"join-room\", roomId);\r\n\r\n        socket.on(\"viewer-count\", (count: number) => {\r\n            setViewerCount(count);\r\n        });\r\n\r\n        return () => {\r\n            socket.disconnect();\r\n        };\r\n    }, [roomId]);\r\n\r\n    // --- WebRTC Streaming ---\r\n    useEffect(() => {\r\n        if (!isStreaming) return;\r\n\r\n        const pc = new RTCPeerConnection();\r\n\r\n        navigator.mediaDevices\r\n            .getUserMedia({ video: true, audio: true })\r\n            .then((stream) => {\r\n                stream.getTracks().forEach((track) => pc.addTrack(track, stream));\r\n                if (videoRef.current) {\r\n                    videoRef.current.srcObject = stream; // ✅ safe check\r\n                }\r\n            });\r\n\r\n        return () => {\r\n            pc.close();\r\n            if (videoRef.current) {\r\n                videoRef.current.srcObject = null; // ✅ avoid null error\r\n            }\r\n        };\r\n    }, [isStreaming, roomId]);\r\n\r\n    // --- Drawing handlers ---\r\n    const handlePathCreated = (path: fabric.Path) => {\r\n        undoStack.current.push(path);\r\n        redoStack.current = [];\r\n    };\r\n\r\n    const handleUndo = () => {\r\n        if (undoStack.current.length === 0 || !canvasRef.current) return;\r\n        const last = undoStack.current.pop()!;\r\n        canvasRef.current.remove(last);\r\n        redoStack.current.push(last);\r\n        canvasRef.current.renderAll();\r\n    };\r\n\r\n    const handleRedo = () => {\r\n        if (redoStack.current.length === 0 || !canvasRef.current) return;\r\n        const obj = redoStack.current.pop()!;\r\n        canvasRef.current.add(obj);\r\n        undoStack.current.push(obj);\r\n        canvasRef.current.renderAll();\r\n    };\r\n\r\n    // --- Copy link with toast ---\r\n    const copyLink = async () => {\r\n        if (!viewUrl) return;\r\n        await navigator.clipboard.writeText(viewUrl);\r\n        toast.success(\"Link copied!\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative w-screen h-screen overflow-hidden bg-neutral-100\">\r\n            {/* Header */}\r\n            <div className=\"absolute top-0 left-0 right-0 p-3 bg-white shadow-sm z-20 flex justify-between items-center\">\r\n                <h1 className=\"text-sm font-semibold\">Bezalel Board {roomId}</h1>\r\n                <div className=\"flex gap-3 items-center\">\r\n                    <div className=\"flex items-center border rounded px-2 py-1 bg-gray-50\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={viewUrl}\r\n                            readOnly\r\n                            className=\"bg-transparent text-xs w-48 outline-none\"\r\n                        />\r\n                        <button\r\n                            onClick={copyLink}\r\n                            className=\"ml-2 text-gray-600 hover:text-blue-600\"\r\n                            title=\"Copy Link\"\r\n                        >\r\n                            <LinkIcon size={16} />\r\n                        </button>\r\n                    </div>\r\n                    <span className=\"text-xs text-gray-500\">Viewers: {viewerCount}</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main content */}\r\n            <div className=\"flex w-full h-full pt-12\">\r\n                <div className=\"flex-1 flex items-center justify-center\">\r\n                    <Canvas\r\n                        isDrawingMode={isDrawingMode}\r\n                        setCanvasRef={(canvas) => (canvasRef.current = canvas)}\r\n                        onPathCreated={handlePathCreated}\r\n                        width={1600}\r\n                        height={1200}\r\n                        showGrid={showGrid}\r\n                    />\r\n                </div>\r\n                {isStreaming && (\r\n                    <div className=\"w-64 p-4\">\r\n                        <video\r\n                            ref={videoRef}\r\n                            autoPlay\r\n                            muted\r\n                            className=\"border rounded w-full h-48\"\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Toolbar */}\r\n            <div className=\"absolute bottom-0 left-1/2 -translate-x-1/2 mb-4 bg-white shadow-md rounded-full px-4 py-2 flex items-center gap-3 z-20\">\r\n                <button\r\n                    onClick={() => setIsDrawingMode(!isDrawingMode)}\r\n                    className=\"text-sm text-gray-600 hover:text-black\"\r\n                >\r\n                    {isDrawingMode ? \"Pan\" : \"Draw\"}\r\n                </button>\r\n                <Palette size={18} className=\"text-gray-500\" />\r\n                <input\r\n                    type=\"color\"\r\n                    value={brushColor}\r\n                    onChange={(e) => {\r\n                        setBrushColor(e.target.value);\r\n                        if (\r\n                            canvasRef.current &&\r\n                            canvasRef.current.freeDrawingBrush instanceof fabric.PencilBrush\r\n                        ) {\r\n                            canvasRef.current.freeDrawingBrush.color = e.target.value;\r\n                        }\r\n                    }}\r\n                    className=\"w-6 h-6 cursor-pointer\"\r\n                />\r\n                <input\r\n                    type=\"range\"\r\n                    min=\"1\"\r\n                    max=\"20\"\r\n                    value={brushWidth}\r\n                    onChange={(e) => {\r\n                        setBrushWidth(Number(e.target.value));\r\n                        if (\r\n                            canvasRef.current &&\r\n                            canvasRef.current.freeDrawingBrush instanceof fabric.PencilBrush\r\n                        ) {\r\n                            canvasRef.current.freeDrawingBrush.width = Number(e.target.value);\r\n                        }\r\n                    }}\r\n                    className=\"w-20\"\r\n                />\r\n                <button onClick={handleUndo}>\r\n                    <Undo2 size={18} className=\"text-gray-500 hover:text-black\" />\r\n                </button>\r\n                <button onClick={handleRedo}>\r\n                    <Redo2 size={18} className=\"text-gray-500 hover:text-black\" />\r\n                </button>\r\n                <button onClick={() => setShowGrid(!showGrid)}>\r\n                    <Grid\r\n                        size={18}\r\n                        className={showGrid ? \"text-blue-500\" : \"text-gray-500\"}\r\n                    />\r\n                </button>\r\n                <button\r\n                    onClick={() =>\r\n                        canvasRef.current?.setZoom(\r\n                            (canvasRef.current.getZoom() || 1) * 1.1\r\n                        )\r\n                    }\r\n                >\r\n                    <ZoomIn size={18} className=\"text-gray-500 hover:text-black\" />\r\n                </button>\r\n                <button\r\n                    onClick={() =>\r\n                        canvasRef.current?.setZoom(\r\n                            (canvasRef.current.getZoom() || 1) / 1.1\r\n                        )\r\n                    }\r\n                >\r\n                    <ZoomOut size={18} className=\"text-gray-500 hover:text-black\" />\r\n                </button>\r\n                <label className=\"flex items-center gap-1 text-xs text-gray-600\">\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        checked={isStreaming}\r\n                        onChange={(e) => setIsStreaming(e.target.checked)}\r\n                    />\r\n                    Stream\r\n                </label>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}